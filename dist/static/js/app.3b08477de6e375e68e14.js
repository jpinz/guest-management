webpackJsonp([1],{"5Iau":function(e,t,a){"use strict";var s=a("dL6C"),i=a.n(s),n=a("beu/"),r=a("VU/8")(i.a,n.a,!1,null,null,null);t.default=r.exports},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),i=a("kxiW"),n=a.n(i),r={data:function(){return{social:!1,risk:!1}},computed:{user:function(){return this.$store.getters.getUser}},created:function(){var e=n.a.database(),t=n.a.auth().currentUser,a=this;t&&e.ref("bros/"+t.uid).once("value").then(function(e){!e.val()||"admin"!==e.val().role&&"social"!==e.val().role||(a.social=!0),e.val()&&"risk"===e.val().role&&(a.risk=!0)})},methods:{signOut:function(){var e=this;n.a.auth().signOut().then(function(){e.$router.replace("sign-in")})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",[a("nav",[e.user?a("router-link",{staticClass:"button",attrs:{to:"/"}},[e._v("Events")]):e._e(),e._v(" "),e.user?a("router-link",{staticClass:"button",attrs:{to:"account"}},[e._v("Account")]):e._e(),e._v(" "),e.user?a("router-link",{staticClass:"button",attrs:{to:"userlist"}},[e._v("User List")]):e._e(),e._v(" "),e.social?a("router-link",{staticClass:"button",attrs:{to:"social"}},[e._v("Social Settings")]):e._e(),e._v(" "),e.risk?a("router-link",{staticClass:"button",attrs:{to:"social/blacklist"}},[e._v("Blacklist")]):e._e(),e._v(" "),e.user?e._e():a("router-link",{staticClass:"button",attrs:{to:"sign-in"}},[e._v("Login")]),e._v(" "),e.user?e._e():a("router-link",{staticClass:"button",attrs:{to:"sign-up"}},[e._v("Register")]),e._v(" "),e.user?a("a",{staticClass:"button",on:{click:e.signOut}},[e._v("Log out")]):e._e()],1)])},staticRenderFns:[]},l={components:{navMain:a("VU/8")(r,o,!1,null,null,null).exports},methods:{setUser:function(){this.$store.dispatch("setUser")}},created:function(){this.setUser()}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("main",{staticClass:"section",attrs:{id:"app"}},[t("div",{staticClass:"container"},[t("nav-main"),this._v(" "),t("router-view")],1)])},staticRenderFns:[]},c=a("VU/8")(l,d,!1,null,null,null).exports,u=a("/ocq"),v=a("NYxO");s.a.use(v.a);var m=new v.a.Store({state:{user:null},getters:{getUser:function(e){return e.user}},mutations:{setUser:function(e){e.user=n.a.auth().currentUser}},actions:{setUser:function(e){e.commit("setUser")}}}),_={data:function(){return{email:"",password:""}},methods:{signIn:function(){var e=this;n.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(t){e.$router.replace("/")},function(e){alert(e.message)})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v("Login")]),e._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-third"}),e._v(" "),a("div",{staticClass:"column is-one-third"},[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-content"},[a("form",{on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Email")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"example@email.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),a("button",{staticClass:"button is-primary",attrs:{type:"submit"},on:{click:e.signIn}},[e._v("Sign-in")])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header is-centered"},[t("h2",{staticClass:"card-header-title is-centered"},[this._v("Sign in to Your Account")])])}]},h=a("VU/8")(_,p,!1,null,null,null).exports,f={data:function(){return{email:"",password:"",name:"",missingName:!1}},methods:{signUp:function(){var e=this,t=this;if(t.name&&void 0!==t.name&&""!==t.name&&0!==t.name.length)return t.email.includes("wpi.edu")?void n.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(function(a){var s=n.a.database();name=e.name,a.updateProfile({displayName:name}).then(function(){console.log("Successful name update: "+name)}).catch(function(e){alert("Error: "+e.message)});var i=name.split(" "),r=i.splice(1).join("")+i[0];s.ref("bros/"+a.uid).set({name:name,email:a.email,paid_bill:!1,sortKey:r,verified:!1,role:"normal"}),t.$router.push({path:"/"})},function(e){alert(e.message)}):(alert("Please use your wpi.edu email"),void(t.email=""));t.missingName=!0}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v("Register")]),e._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-third"}),e._v(" "),a("div",{staticClass:"column is-one-third"},[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-content"},[a("form",{on:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Full Name")]),e._v(" "),a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",class:{"input is-danger ":e.missingName},attrs:{type:"text",placeholder:"Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),e.missingName?a("span",{staticClass:"icon is-small is-right"},[a("i",{staticClass:"fas fa-exclamation-triangle"})]):e._e(),e._v(" "),e.missingName?a("p",{staticClass:"help is-danger"},[e._v("Please enter a name.")]):e._e()])]),e._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Email")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"example@email.com"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Password")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e._v(" "),a("button",{staticClass:"button is-primary",attrs:{type:"submit"},on:{click:e.signUp}},[e._v("Sign-up")])])])])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card-header is-centered"},[t("h2",{staticClass:"card-header-title is-centered"},[this._v("Create an Account")])])}]},g=a("VU/8")(f,b,!1,null,null,null).exports,y=a("5Iau"),C=a("fZjL"),k=a.n(C),j=a("PJh5"),w=a.n(j),A={data:function(){return{events:[],social:!1,riskManager:!1,name:"",email:"",userId:"",verified:!1}},created:function(){var e=n.a.database(),t=this,a=n.a.auth().currentUser;null!==a&&(t.name=a.displayName,t.email=a.email,t.userId=a.uid),e.ref("events/").on("value",function(e){var a=e.val(),s=0;for(var i in a)t.$set(t.events,s,{id:i,name:a[i].name,date:w()(a[i].party_date).format("ddd, MMM Do YYYY"),type:a[i].type,total:a[i].males&&a[i].females?k()(a[i].males).length+k()(a[i].females).length:0,closed:a[i].closed,jobsUrl:a[i].jobsUrl}),s++}),e.ref("bros/"+t.userId).once("value").then(function(e){!e.val()||"admin"!==e.val().role&&"social"!==e.val().role?e.val()&&"risk"===e.val().role&&(t.riskManager=!0):t.social=!0,t.verified=e.val().verified})},methods:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},close:function(e,t){n.a.database().ref("events/"+e).update({closed:t})},addUrl:function(e){console.log(e);var t=prompt("Please enter the Google sheets URL for the party jobs (with http:// or https:// at the beginning):","");t&&(!t||t.startsWith("https://")||t.startsWith("http://")?n.a.database().ref("events/"+e).update({jobsUrl:t}):alert("You didn't start the url with http:// or https://"))}}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.verified?a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v("Events")]),e._v(" "),1==e.social?a("div",[a("table",{staticClass:"table is-fullwidth is-striped"},[e._m(0),e._v(" "),a("tbody",e._l(e.events,function(t){return a("tr",[a("th",[a("router-link",{attrs:{to:"/party/"+t.id}},[e._v("["+e._s(t.type.toUpperCase())+"] "+e._s(t.name))])],1),e._v(" "),a("td",[e._v(e._s(t.total))]),e._v(" "),a("td",[e._v(e._s(e.capitalize(t.type)))]),e._v(" "),a("td",[e._v(e._s(t.date))]),e._v(" "),t.jobsUrl?a("th",[a("a",{staticClass:"button is-link",attrs:{href:""+t.jobsUrl,target:"_blank"}},[e._v("Jobs")])]):a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.addUrl(t.id)}}},[e._v("Add Jobs Sheet")])]),e._v(" "),a("td",[a("b-switch",{on:{input:function(a){e.close(t.id,t.closed)}},model:{value:t.closed,callback:function(a){e.$set(t,"closed",a)},expression:"event.closed"}})],1),e._v(" "),a("th",[a("router-link",{attrs:{to:"/createParty?edit="+t.id}},[e._v("Edit")])],1)])}))]),e._v(" "),a("router-link",{staticClass:"button",attrs:{to:"/createParty"}},[e._v("Add Party")])],1):a("table",{staticClass:"table is-fullwidth is-striped"},[e._m(1),e._v(" "),a("tbody",e._l(e.events,function(t){return a("tr",[a("th",[a("router-link",{attrs:{to:"/party/"+t.id}},[e._v("["+e._s(t.type.toUpperCase())+"] "+e._s(t.name))])],1),e._v(" "),a("td",[e._v(e._s(t.total))]),e._v(" "),a("td",[e._v(e._s(e.capitalize(t.type)))]),e._v(" "),a("td",[e._v(e._s(t.date))]),e._v(" "),t.jobsUrl?a("th",[a("a",{staticClass:"button is-link",attrs:{href:""+t.jobsUrl,target:"_blank"}},[e._v("Jobs")])]):e.riskManager?a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.addUrl(t.id)}}},[e._v("Add Jobs Sheet")])]):a("td",[e._v("Not up")])])}))])]):a("section",[a("br"),e._v(" "),a("div",{staticClass:"notification is-danger"},[e._v("\n    Your account has not been verified, please reach out to social to have them verify it for you.\n  ")])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Guests")]),e._v(" "),a("th",[e._v("Type")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Jobs")]),e._v(" "),a("th",[e._v("Close")]),e._v(" "),a("th",[e._v("Modify")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Guests")]),e._v(" "),a("th",[e._v("Type")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),a("th",[e._v("Jobs")])])])}]},x=a("VU/8")(A,I,!1,null,null,null).exports,D={data:function(){return{userId:"",name:"",email:""}},created:function(){var e=n.a.auth().currentUser,t=this;null!==e&&e.providerData.forEach(function(e){t.userId=e.uid,t.name=e.displayName,t.email=e.email})},methods:{changeEmail:function(e){n.a.auth().currentUser.updateEmail(this.email).then(function(){console.log("Successful update of email.")}).catch(function(e){alert("Error: "+e.message)})},resetPassword:function(e){n.a.auth().sendPasswordResetEmail(this.email).then(function(){console.log("Successful password reset sent")}).catch(function(e){alert("Error: "+e.message)})}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v("Manage Your Account")]),e._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("label",{staticClass:"label"},[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"Email input"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._v(" "),a("button",{staticClass:"button is-link",on:{click:e.changeEmail}},[e._v("Change Email")]),e._v(" "),a("br"),a("br"),e._v(" "),a("button",{staticClass:"button is-link",on:{click:e.resetPassword}},[e._v("Reset Password")])])])])},staticRenderFns:[]},N=a("VU/8")(D,U,!1,null,null,null).exports,B={data:function(){return{userId:"",name:"",email:"",social:!1,paid_bill:!0,isFrontDoor:!1,party_name:"",party_id:this.$route.params.id.toString(),party_date:"",party_type:"",party_closed:!1,input:"",blacklist:[],males:[],females:[],malesApproval:[],femalesApproval:[],malesList:[],femalesList:[],checkedIn:0,maleLimit:"",femaleLimit:"",generalLimit:"",malesAdded:0,femalesAdded:0,generalAdded:0}},created:function(){var e=this,t=n.a.database(),a=n.a.auth().currentUser,s=this;null!==a&&(s.userId=a.uid,s.name=a.displayName,s.email=a.email),t.ref("events/"+this.$route.params.id).on("value",function(t){var a=t.val();s.party_type=e.capitalize(a.type),s.party_date=w()(a.party_date).format("ddd, MMM Do YYYY"),s.party_name=a.name,s.party_closed=a.closed,-1!==a.maleGuests?s.maleLimit=a.maleGuests:s.maleLimit="∞",-1!==a.femaleGuests?s.femaleLimit=a.femaleGuests:s.femaleLimit="∞",-1!==a.generalGuests?s.generalLimit=a.generalGuests:s.generalLimit="∞"}),t.ref("blacklist/").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.blacklist,t,e.val().name.toLowerCase()),t++})}),t.ref("events/"+this.$route.params.id+"/males").orderByChild("sortKey").on("value",function(e){var t=0,a=0;e.forEach(function(e){e.val().addedByUID===s.userId&&a++,-1!==e.val().checkedIn&&s.checkedIn++,s.$set(s.males,t,{id:e.key,name:e.val().name,checkedIn:-1===e.val().checkedIn?-1:w()(e.val().checkedIn).format("LTS"),addedByName:e.val().addedByName,addedByUID:e.val().addedByUID}),t++}),s.malesAdded=a,s.generalAdded=s.malesAdded+s.femalesAdded}),t.ref("events/"+this.$route.params.id+"/males_approval").orderByChild("sortKey").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.malesApproval,t,{id:e.key,name:e.val().name,checkedIn:-1===e.val().checkedIn?-1:w()(e.val().checkedIn).format("LTS"),addedByName:e.val().addedByName,addedByUID:e.val().addedByUID}),t++})}),t.ref("bros/"+s.userId+"/list/males").orderByChild("sortKey").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.malesList,t,{id:e.key,name:e.val().name,checkedIn:-1===e.val().checkedIn?-1:w()(e.val().checkedIn).format("LTS"),addedByName:e.val().addedByName,addedByUID:e.val().addedByUID}),t++})}),console.log(s.malesList),t.ref("events/"+this.$route.params.id+"/females").orderByChild("sortKey").on("value",function(e){var t=0,a=0;e.forEach(function(e){e.val().addedByUID===s.userId&&a++,-1!==e.val().checkedIn&&s.checkedIn++,s.$set(s.females,t,{id:e.key,name:e.val().name,checkedIn:-1===e.val().checkedIn?-1:w()(e.val().checkedIn).format("LTS"),addedByName:e.val().addedByName,addedByUID:e.val().addedByUID}),t++}),s.femalesAdded=a,s.generalAdded=s.malesAdded+s.femalesAdded}),t.ref("events/"+this.$route.params.id+"/females_approval").orderByChild("sortKey").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.femalesApproval,t,{id:e.key,name:e.val().name,checkedIn:-1===e.val().checkedIn?-1:w()(e.val().checkedIn).format("LTS"),addedByName:e.val().addedByName,addedByUID:e.val().addedByUID}),t++})}),t.ref("bros/"+s.userId+"/list/females").orderByChild("sortKey").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.femalesList,t,{id:e.key,name:e.val().name,checkedIn:-1===e.val().checkedIn?-1:w()(e.val().checkedIn).format("LTS"),addedByName:e.val().addedByName,addedByUID:e.val().addedByUID}),t++})}),t.ref("bros/"+s.userId).once("value").then(function(e){!e.val()||"admin"!==e.val().role&&"social"!==e.val().role||(s.social=!0),s.paid_bill=e.val()&&!0===e.val().paid_bill})},computed:{filteredMales:function(){var e=this;return this.males.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1||t.addedByName.toLowerCase().indexOf(e.input.toLowerCase())>-1})},filteredFemales:function(){var e=this;return this.females.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1||t.addedByName.toLowerCase().indexOf(e.input.toLowerCase())>-1})},filteredMalesApproval:function(){var e=this;return this.malesApproval.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1||t.addedByName.toLowerCase().indexOf(e.input.toLowerCase())>-1})},filteredFemalesApproval:function(){var e=this;return this.femalesApproval.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1||t.addedByName.toLowerCase().indexOf(e.input.toLowerCase())>-1})},filteredMalesList:function(){var e=this;return this.malesList.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1})},filteredFemalesList:function(){var e=this;return this.femalesList.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1})}},methods:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},frontDoor:function(e){},checkIn:function(e,t,a){this.input="";var s=n.a.database(),i=new Date;a?t?s.ref("events/"+this.$route.params.id+"/males/"+e.id).update({checkedIn:-1}):s.ref("events/"+this.$route.params.id+"/females/"+e.id).update({checkedIn:-1}):t?s.ref("events/"+this.$route.params.id+"/males/"+e.id).update({checkedIn:i.getTime()}):s.ref("events/"+this.$route.params.id+"/females/"+e.id).update({checkedIn:i.getTime()}),document.getElementById("searchbar").focus()},approve:function(e,t,a){var s=n.a.database();if(console.log("Approving: "+e.name),t){var i="events/"+this.$route.params.id+"/males";this.malesApproval.splice(a,1),s.ref(i+"_approval/"+e.id).once("value",function(t){var a=t.val();s.ref(i+"/"+e.id).set(a),s.ref(i+"_approval/"+e.id).remove()})}else{var r="events/"+this.$route.params.id+"/females";this.femalesApproval.splice(a,1),s.ref(r+"_approval/"+e.id).once("value",function(t){var a=t.val();s.ref(r+"/"+e.id).set(a),s.ref(r+"_approval/"+e.id).remove()})}},add:function(e,t){var a=n.a.database();if(console.log("adding: "+e.name),t){var s="events/"+this.$route.params.id+"/males";a.ref("bros/"+this.userId+"/list/males/"+e.id).once("value",function(t){var i=t.val();a.ref(s+"/"+e.id).set(i)})}else{var i="events/"+this.$route.params.id+"/females";a.ref("bros/"+this.userId+"/list/females/"+e.id).once("value",function(t){var s=t.val();a.ref(i+"/"+e.id).set(s)})}},remove:function(e,t,a,s){var i=n.a.database();if(console.log("Removing guest: "+e.name),s)if(t){var r="events/"+this.$route.params.id+"/males_approval/";this.malesApproval.splice(a,1),i.ref(r+e.id).remove()}else{var o="events/"+this.$route.params.id+"/females_approval/";this.femalesApproval.splice(a,1),i.ref(o+e.id).remove()}else if(t){var l="events/"+this.$route.params.id+"/males/";this.males.splice(a,1),i.ref(l+e.id).remove()}else{var d="events/"+this.$route.params.id+"/females/";this.females.splice(a,1),i.ref(d+e.id).remove()}},addMale:function(e,t,a,s,i){this.input="";var r=this,o=e.split(","),l="events/"+this.$route.params.id+"/males",d=n.a.database(),c=!1;if(!t&&r.isFrontDoor)return alert("You need to add a brother to vouch for the guest(s)"),void(this.input=e);o.every(function(e){if(e=e.replace(/[~!@#$%^&*()_|+\-=?;:",.<>\{\}\[\]\\\/]/gi,"").replace(/[0-9]/g,"").trim(),r.blacklist.includes(e.toLowerCase()))alert(e+" is on the blacklist! They will not be added to the guest list.");else if(r.males.some(function(t){return t.name.toLowerCase()===e.toLowerCase()}))console.log(e+" has already been added.");else if(e&&void 0!==e&&""!==e&&0!==e.length)if(console.log(r.generalAdded+" "+r.generalLimit),(r.malesAdded>=r.maleLimit||r.generalAdded>=r.generalLimit)&&!r.social){c=!0;var t=d.ref().push().key,n=e.split(" "),o=n.splice(1).join("")+n[0];d.ref(l+"_approval/"+t).set({name:e,checkedIn:a,addedByName:s,addedByUID:i,sortKey:o})}else{var u=d.ref().push().key,v=e.split(" "),m=v.splice(1).join("")+v[0];d.ref(l+"/"+u).set({name:e,checkedIn:a,addedByName:s,addedByUID:i,sortKey:m}),d.ref("bros/"+i+"/events/"+r.party_id).set({males:r.malesAdded,females:r.femalesAdded})}else console.log("Name was empty, didn't add");return!0}),c&&alert("You hit your maximum for male guests, they've been added to the approval list")},addFemale:function(e,t,a,s,i){this.input="";var r=this,o=e.split(","),l=n.a.database(),d="events/"+this.$route.params.id+"/females",c=!1;if(!t&&r.isFrontDoor)return alert("You need to add a brother to vouch for the guest(s)"),void(this.input=e);o.every(function(e){if(e=e.replace(/[~!@#$%^&*()_|+\-=?;:",.<>\{\}\[\]\\\/]/gi,"").replace(/[0-9]/g,""),r.blacklist.includes(e.toLowerCase()))alert(e+" is on the blacklist! They will not be added to the guest list.");else if(r.females.some(function(t){return t.name.toLowerCase()===e.toLowerCase()}))console.log(e+" has already been added.");else if(e&&void 0!==e&&""!==e&&0!==e.length)if((r.femalesAdded>=r.femaleLimit||r.generalAdded>=r.generalLimit)&&!r.social){c=!0;var t=l.ref().push().key,n=e.split(" "),o=n.splice(1).join("")+n[0];l.ref(d+"_approval/"+t).set({name:e,checkedIn:a,addedByName:s,addedByUID:i,sortKey:o})}else{var u=l.ref().push().key,v=e.split(" "),m=v.splice(1).join("")+v[0];l.ref(d+"/"+u).set({name:e,checkedIn:a,addedByName:s,addedByUID:i,sortKey:m}),l.ref("bros/"+i+"/events/"+r.party_id).set({males:r.malesAdded,females:r.femalesAdded})}else console.log("Name was empty, didn't add");return!0}),c&&alert("You hit your maximum for female guests, they've been added to the approval list")}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v(e._s(e.party_name))]),e._v(" "),a("h4",{staticClass:"subtitle has-text-centered is-4"},[e._v(e._s(e.party_date)+" - "+e._s(e.party_type))]),e._v(" "),e.social?a("div",{staticClass:"field",attrs:{id:"center"}},[a("span",[e._v("Front Door Mode enabled: ")]),e._v(" "),a("b-switch",{on:{input:function(t){e.frontDoor(e.isFrontDoor)}},model:{value:e.isFrontDoor,callback:function(t){e.isFrontDoor=t},expression:"isFrontDoor"}})],1):e._e(),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[e.party_closed?a("div",[a("div",{staticClass:"notification is-danger"},[e._v("\n          The party list is now closed, sorry!\n        ")]),e._v(" "),a("br")]):e.paid_bill?e._e():a("div",[a("div",{staticClass:"notification is-danger"},[e._v("\n          You have not paid your social bill! Please talk to social about this.\n        ")]),e._v(" "),a("br")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter guest name(s)",id:"searchbar"},domProps:{value:e.input},on:{input:function(t){t.target.composing||(e.input=t.target.value)}}}),e._v(" "),e.isFrontDoor?a("input",{directives:[{name:"model",rawName:"v-model",value:e.brotherVouch,expression:"brotherVouch"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter brother's name to vouch for them",id:"brotherVouchBar"},domProps:{value:e.brotherVouch},on:{input:function(t){t.target.composing||(e.brotherVouch=t.target.value)}}}):e._e(),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"addGuest"},[a("button",{staticClass:"button is-info",attrs:{disabled:(!e.paid_bill||e.party_closed)&&!e.social},on:{click:function(t){e.addMale(e.input,e.brotherVouch,-1,e.name,e.userId)}}},[e._v("Add Male(s)")])]),e._v(" "),a("div",{staticClass:"addGuest"},[a("button",{staticClass:"button is-danger",staticStyle:{"margin-left":"20px"},attrs:{disabled:(!e.paid_bill||e.party_closed)&&!e.social},on:{click:function(t){e.addFemale(e.input,e.brotherVouch,-1,e.name,e.userId)}}},[e._v("\n          Add Female(s)\n        ")])]),e._v(" "),a("br"),a("br"),a("br")]),e._v(" "),a("p",[e._v("There are "),a("strong",[e._v(e._s(e.females.length))]),e._v(" females and "),a("strong",[e._v(e._s(e.males.length))]),e._v("\n      males on the list. For you math majors that is "),a("strong",[e._v(e._s(e.females.length+e.males.length))]),e._v(" guests.")]),e._v(" "),0!=e.generalLimit&&e.generalLimit?a("p",[e._v("You have added "),a("strong",[e._v(e._s(e.femalesAdded))]),e._v(" females and "),a("strong",[e._v(e._s(e.malesAdded))]),e._v("\n      males for a total of "),a("strong",[e._v(e._s(e.malesAdded+e.femalesAdded)+"/"+e._s(e.generalLimit))]),e._v(" added.")]):a("p",[e._v("You have added "),a("strong",[e._v(e._s(e.femalesAdded)+"/"+e._s(e.femaleLimit))]),e._v(" females and "),a("strong",[e._v(e._s(e.malesAdded)+"/"+e._s(e.maleLimit))]),e._v("\n      males for a total of "),a("strong",[e._v(e._s(e.malesAdded+e.femalesAdded))]),e._v(" added.")]),e._v(" "),a("p",[e._v("There are "),a("strong",[e._v(e._s(e.checkedIn))]),e._v(" guests who have checked in.")])]),e._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Males")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Added By")]),e._v(" "),a("th",[e._v("Checked In")]),e._v(" "),!e.isFrontDoor&&e.social?a("th",[e._v("Delete")]):e._e()])]),e._v(" "),a("tbody",e._l(e.filteredMales,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.addedByName))]),e._v(" "),-1==t.checkedIn?a("td",[a("button",{staticClass:"button is-info",attrs:{disabled:0==e.social||!e.isFrontDoor},on:{click:function(a){e.checkIn(t,!0,!1)}}},[e._v("Check in\n            ")])]):-1==t.checkedIn||e.isFrontDoor?a("td",[a("span",{staticClass:"tag is-info is-medium"},[e._v(e._s(t.checkedIn))])]):a("td",[a("button",{staticClass:"button is-danger",attrs:{disabled:0==e.social},on:{click:function(a){e.checkIn(t,!0,!0)}}},[e._v("\n              "+e._s(t.checkedIn)+"\n            ")])]),e._v(" "),!e.isFrontDoor&&e.social?a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.remove(t,!0,s,!1)}}},[e._v("Delete")])]):e._e()])}))])]),e._v(" "),a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Females")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Added By")]),e._v(" "),a("th",[e._v("Checked In")]),e._v(" "),!e.isFrontDoor&&e.social?a("th",[e._v("Delete")]):e._e()])]),e._v(" "),a("tbody",e._l(e.filteredFemales,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.addedByName))]),e._v(" "),-1==t.checkedIn?a("td",[a("button",{staticClass:"button is-danger",attrs:{disabled:0==e.social||!e.isFrontDoor},on:{click:function(a){e.checkIn(t,!1,!1)}}},[e._v("\n              Check in\n            ")])]):-1==t.checkedIn||e.isFrontDoor?a("td",[a("span",{staticClass:"tag is-danger is-medium"},[e._v(e._s(t.checkedIn))])]):a("td",[a("button",{staticClass:"button is-danger",attrs:{disabled:0==e.social},on:{click:function(a){e.checkIn(t,!1,!0)}}},[e._v("\n              "+e._s(t.checkedIn)+"\n            ")])]),e._v(" "),!e.isFrontDoor&&e.social?a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.remove(t,!1,s,!1)}}},[e._v("Delete")])]):e._e()])}))])])]),e._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Males Awaiting Approval")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Added By")]),e._v(" "),1==e.social?a("th",[e._v("Approve")]):e._e(),e._v(" "),!e.isFrontDoor&&e.social?a("th",[e._v("Delete")]):e._e()])]),e._v(" "),a("tbody",e._l(e.filteredMalesApproval,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.addedByName))]),e._v(" "),1==e.social?a("td",[a("button",{staticClass:"button is-info",on:{click:function(a){e.approve(t,!0,s)}}},[e._v("Approve")])]):e._e(),e._v(" "),!e.isFrontDoor&&e.social?a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.remove(t,!0,s,!0)}}},[e._v("Delete")])]):e._e()])}))])]),e._v(" "),a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Females Awaiting Approval")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Added By")]),e._v(" "),1==e.social?a("th",[e._v("Approve")]):e._e(),e._v(" "),!e.isFrontDoor&&e.social?a("th",[e._v("Delete")]):e._e()])]),e._v(" "),a("tbody",e._l(e.filteredFemalesApproval,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.addedByName))]),e._v(" "),1==e.social?a("td",[a("button",{staticClass:"button is-danger",on:{click:function(a){e.approve(t,!1,s)}}},[e._v("Approve")])]):e._e(),e._v(" "),!e.isFrontDoor&&e.social?a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.remove(t,!1,s,!0)}}},[e._v("Delete")])]):e._e()])}))])])]),e._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Your list of Males")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[e._m(0),e._v(" "),a("tbody",e._l(e.filteredMalesList,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),e.males.includes(t.id)?a("td",[e._v("Test")]):a("td",[a("button",{staticClass:"button is-info",on:{click:function(a){e.add(t,!0)}}},[e._v("Add to list")])])])}))])]),e._v(" "),a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Your list of Females")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[e._m(1),e._v(" "),a("tbody",e._l(e.filteredFemalesList,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),e.females.includes(t)?a("td",[e._v("Test")]):a("td",[a("button",{staticClass:"button is-danger",on:{click:function(a){e.add(t,!1)}}},[e._v("Add to list")])])])}))])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Name")]),this._v(" "),t("th",[this._v("Add")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Name")]),this._v(" "),t("th",[this._v("Add")])])])}]};var E=a("VU/8")(B,L,!1,function(e){a("s7mS")},"data-v-b61e94a0",null).exports,$=a("DAYN"),F={data:function(){return{userId:"",name:"",email:"",social:!1,paid_bill:!0,isShamed:!1,userKey:-1,party_name:"",party_id:this.$route.params.id.toString(),party_date:"",party_type:"",party_closed:!1,jobs:[],shamedBrothers:[],soberVolunteers:[],riskManagers:[],soberOfficers:[]}},components:{draggable:a.n($).a},created:function(){var e=this,t=n.a.database(),a=n.a.auth().currentUser,s=this;null!==a&&(s.userId=a.uid,s.name=a.displayName,s.email=a.email),t.ref("events/"+this.$route.params.id).on("value",function(t){var a=t.val();s.party_type=e.capitalize(a.type),s.party_date=w()(a.party_date).format("ddd, MMM Do YYYY"),s.party_name=a.name,s.party_closed=a.closed,-1!==a.maleGuests?s.maleLimit=a.maleGuests:s.maleLimit="∞",-1!==a.femaleGuests?s.femaleLimit=a.femaleGuests:s.femaleLimit="∞",-1!==a.generalGuests?s.generalLimit=a.generalGuests:s.generalLimit="∞"}),t.ref("bros/"+s.userId).once("value").then(function(e){!e.val()||"admin"!==e.val().role&&"social"!==e.val().role||(s.social=!0),s.paid_bill=e.val()&&!0===e.val().paid_bill}),t.ref("events/"+this.$route.params.id+"/jobs/shame").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.shamedBrothers,t,{id:e.key,ref:e.ref,name:e.val()}),e.val()===s.name&&(s.isShamed=!0,s.userKey=t),t++})}),t.ref("events/"+this.$route.params.id+"/jobs/jobs").on("value",function(e){e.forEach(function(e){var t={outsideFrontDoor:[],insideFrontDoor:[],coatRoom:[],bar:[],basementBackDoor:[],backDoor:[],dj:[]};e.forEach(function(e){var a=0;e.forEach(function(i){t[e.key][a]={id:i.key,ref:i.ref,name:i.val()},i.val()===s.name&&(s.userKey=a),a++})}),s.$set(s.jobs,e.key,t)})}),t.ref("events/"+this.$route.params.id+"/jobs/risk").on("value",function(e){e.forEach(function(e){s.$set(s.riskManagers,e.key,{ref:e.ref,name:e.val()})})}),t.ref("events/"+this.$route.params.id+"/jobs/officer").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.soberOfficers,t,{id:e.key,ref:e.ref,name:e.val()}),e.val()===s.name&&(s.userKey=t),t++})}),t.ref("events/"+this.$route.params.id+"/jobs/volunteer").on("value",function(e){var t=0;e.forEach(function(e){s.$set(s.soberVolunteers,t,{id:e.key,ref:e.ref,name:e.val()}),e.val()===s.name&&(s.userKey=t),t++})})},computed:{},methods:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},updateJobs:function(e){console.log(e);var t=this,a=n.a.database();if("soberVolunteers"===e.to.id){console.log(t.soberVolunteers[e.oldIndex]);var s=t.soberVolunteers[e.newIndex].ref,i=t.soberVolunteers[e.newIndex].id,r=t.soberVolunteers[e.newIndex].name;s&&s.remove(),a.ref("events/"+this.$route.params.id+"/jobs/volunteer/"+i).set(r),r===t.name&&(t.isShamed=!1)}else if("soberOfficers"===e.to.id){var o=t.soberOfficers[e.newIndex].ref,l=t.soberOfficers[e.newIndex].id,d=t.soberOfficers[e.newIndex].name;o&&o.remove(),a.ref("events/"+this.$route.params.id+"/jobs/officer/"+l).set(d),d===t.name&&(t.isShamed=!1)}else if("shame"===e.to.id){var c=t.shamedBrothers[e.newIndex].ref,u=t.shamedBrothers[e.newIndex].id,v=t.shamedBrothers[e.newIndex].name;c&&c.remove(),a.ref("events/"+this.$route.params.id+"/jobs/shame/"+u).set(v),v===t.name&&(t.isShamed=!0)}else if(/\d/.test(e.to.id.slice(-1))){var m=parseInt(e.to.id.slice(-1)),_=e.to.id.substring(0,e.to.id.length-1),p=t.jobs[m][_][e.newIndex];console.log(p);var h=p.ref,f=p.id,b=p.name;h&&h.remove(),a.ref("events/"+this.$route.params.id+"/jobs/jobs/"+m+"/"+_+"/"+f).set(b),b===t.name&&(t.isShamed=!1)}},addMe:function(e){console.log(e);var t=this,a=n.a.database();if(t.isShamed){if("soberVolunteer"===e)if(console.log(t.shamedBrothers[t.userKey]),t.shamedBrothers[t.userKey].name!==t.name)alert("Error: Trying to add someone besides yourself, please reload");else{var s=t.shamedBrothers[t.userKey].ref,i=t.shamedBrothers[t.userKey].id,r=t.shamedBrothers[t.userKey].name;s&&s.remove(),a.ref("events/"+this.$route.params.id+"/jobs/volunteer/"+i).set(r),r===t.name&&(t.isShamed=!1)}}else if("soberVolunteer"===e)if(t.soberVolunteers[t.userKey].name!==t.name)alert("Error: Trying to add someone besides yourself, please reload");else{var o=t.soberVolunteers[t.userKey].ref,l=t.soberVolunteers[t.userKey].id,d=t.soberVolunteers[t.userKey].name;o&&o.remove(),a.ref("events/"+this.$route.params.id+"/jobs/shame/"+l).set(d),d===t.name&&(t.isShamed=!0),location.reload()}}}},G={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v(e._s(e.party_name))]),e._v(" "),a("h4",{staticClass:"subtitle has-text-centered is-4"},[e._v(e._s(e.party_date)+" - "+e._s(e.party_type))]),e._v(" "),a("br"),e._v(" "),e.isShamed?a("div",[a("div",{staticClass:"notification is-danger"},[e._v("\n      SHAME SHAME ON YOU - Go sign up for a party job\n    ")]),e._v(" "),a("br")]):e._e(),e._v(" "),a("div",[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child box"},[a("p",{staticClass:"subtitle"},[e._v("Sober Volunteers")]),e._v(" "),a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"soberVolunteers",options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.soberVolunteers,callback:function(t){e.soberVolunteers=t},expression:"soberVolunteers"}},e._l(e.soberVolunteers,function(t){return t.name===e.name?a("span",{staticClass:"tag is-medium is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag is-medium",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)])]),e._v(" "),a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child box"},[a("p",{staticClass:"subtitle"},[e._v("Sober Officers")]),e._v(" "),a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"soberOfficers",options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.soberOfficers,callback:function(t){e.soberOfficers=t},expression:"soberOfficers"}},e._l(e.soberOfficers,function(t){return t.name===e.name?a("span",{staticClass:"tag is-medium is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag is-medium",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)])]),e._v(" "),a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child box"},[a("p",{staticClass:"subtitle"},[e._v("Risk Managers")]),e._v(" "),a("div",{staticClass:"tags"},e._l(e.riskManagers,function(t){return t.name===e.name?a("span",{staticClass:"tag is-medium is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag is-medium",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))])])]),e._v(" "),a("table",{staticClass:"table is-bordered is-striped"},[e._m(0),e._v(" "),a("tbody",e._l(e.jobs,function(t,s){return a("tr",{key:s},[0==s?a("th",[e._v("10 PM")]):e._e(),e._v(" "),1==s?a("th",[e._v("11 PM")]):e._e(),e._v(" "),2==s?a("th",[e._v("12 AM")]):e._e(),e._v(" "),3==s?a("th",[e._v("1 AM")]):e._e(),e._v(" "),a("td",{staticClass:"dragArea"},[a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"outsideFrontDoor"+s,options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.jobs[s].outsideFrontDoor,callback:function(t){e.$set(e.jobs[s],"outsideFrontDoor",t)},expression:"jobs[key]['outsideFrontDoor']"}},e._l(e.jobs[s].outsideFrontDoor,function(t){return t.name===e.name?a("span",{staticClass:"tag is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)]),e._v(" "),a("td",{staticClass:"dragArea"},[a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"insideFrontDoor"+s,options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.jobs[s].insideFrontDoor,callback:function(t){e.$set(e.jobs[s],"insideFrontDoor",t)},expression:"jobs[key]['insideFrontDoor']"}},e._l(e.jobs[s].insideFrontDoor,function(t){return t.name===e.name?a("span",{staticClass:"tag is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)]),e._v(" "),a("td",{staticClass:"dragArea"},[a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"coatRoom"+s,options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.jobs[s].coatRoom,callback:function(t){e.$set(e.jobs[s],"coatRoom",t)},expression:"jobs[key]['coatRoom']"}},e._l(e.jobs[s].coatRoom,function(t){return t.name===e.name?a("span",{staticClass:"tag is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)]),e._v(" "),a("td",{staticClass:"dragArea"},[a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"bar"+s,options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.jobs[s].bar,callback:function(t){e.$set(e.jobs[s],"bar",t)},expression:"jobs[key]['bar']"}},e._l(e.jobs[s].bar,function(t){return t.name===e.name?a("span",{staticClass:"tag is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)]),e._v(" "),a("td",{staticClass:"dragArea"},[a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"basementBackDoor"+s,options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.jobs[s].basementBackDoor,callback:function(t){e.$set(e.jobs[s],"basementBackDoor",t)},expression:"jobs[key]['basementBackDoor']"}},e._l(e.jobs[s].basementBackDoor,function(t){return t.name===e.name?a("span",{staticClass:"tag is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)]),e._v(" "),a("td",{staticClass:"dragArea"},[a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"backDoor"+s,options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.jobs[s].backDoor,callback:function(t){e.$set(e.jobs[s],"backDoor",t)},expression:"jobs[key]['backDoor']"}},e._l(e.jobs[s].backDoor,function(t){return t.name===e.name?a("span",{staticClass:"tag is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)]),e._v(" "),a("td",{staticClass:"dragArea"},[a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"dj"+s,options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.jobs[s].dj,callback:function(t){e.$set(e.jobs[s],"dj",t)},expression:"jobs[key]['dj']"}},e._l(e.jobs[s].dj,function(t){return t.name===e.name?a("span",{staticClass:"tag is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)])])})),e._v(" "),e._m(1)]),e._v(" "),a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child notification is-danger"},[a("p",{staticClass:"subtitle"},[e._v("Wall of SHAME")]),e._v(" "),a("div",{staticClass:"tags dragArea"},[a("draggable",{staticClass:"dragArea",attrs:{id:"shame",options:{group:"brothers"}},on:{remove:e.updateJobs},model:{value:e.shamedBrothers,callback:function(t){e.shamedBrothers=t},expression:"shamedBrothers"}},e._l(e.shamedBrothers,function(t){return t.name===e.name?a("span",{staticClass:"tag is-medium is-info",attrs:{id:t.id}},[e._v(e._s(t.name))]):t.name!==e.name?a("span",{staticClass:"tag is-medium",attrs:{id:t.id}},[e._v(e._s(t.name))]):e._e()}))],1)])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("Time")]),e._v(" "),a("th",[e._v("Outside Front Door")]),e._v(" "),a("th",[e._v("Inside Front Door")]),e._v(" "),a("th",[e._v("Coat Room")]),e._v(" "),a("th",[e._v("Bar")]),e._v(" "),a("th",[e._v("Basement Back Door")]),e._v(" "),a("th",[e._v("Back Door")]),e._v(" "),a("th",[e._v("DJ")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tfoot",[a("tr",[a("th",[e._v("Needed brothers")]),e._v(" "),a("th",{staticClass:"dragArea"},[e._v("\n          2\n        ")]),e._v(" "),a("th",{staticClass:"dragArea"},[e._v("\n          1\n        ")]),e._v(" "),a("th",{staticClass:"dragArea"},[e._v("\n          2 or 3\n        ")]),e._v(" "),a("th",{staticClass:"dragArea"},[e._v("\n          2\n        ")]),e._v(" "),a("th",{staticClass:"dragArea"},[e._v("\n          1\n        ")]),e._v(" "),a("th",{staticClass:"dragArea"},[e._v("\n          1\n        ")]),e._v(" "),a("th",{staticClass:"dragArea"},[e._v("\n          1\n        ")])])])}]};var M=a("VU/8")(F,G,!1,function(e){a("No6h")},"data-v-4e5e8c9d",null).exports,P=a("mvHQ"),S=a.n(P),O={data:function(){return{userId:"",name:"",jobsUrl:"",email:"",party_id:this.$route.query.edit,missingName:!1,type:"social",party_date:new Date,brothers:[],risk:[],maleGuestCount:0,femaleGuestCount:0,generalGuestCount:0}},created:function(){var e=n.a.database(),t=this;(e.ref("bros/").orderByChild("sortKey").on("value",function(e){var a=0,s=0;e.forEach(function(e){"risk"===e.val().role?(console.log(e.val()),t.$set(t.risk,s,e.val().name),s++):(t.$set(t.brothers,a,e.val().name),a++)})}),t.party_id)&&e.ref("events/"+t.party_id).on("value",function(e){var a=e.val();t.type=a.type,t.party_date=new Date(a.party_date),t.name=a.name,t.jobsUrl=a.jobsUrl,-1!==a.maleGuests?t.maleGuestCount=a.maleGuests:t.maleGuestCount=-1,-1!==a.femaleGuests?t.femaleGuestCount=a.femaleGuests:t.femaleGuestCount=-1,a.generalGuests?-1!==a.generalGuests?t.generalGuestCount=a.generalGuests:t.generalGuestCount=-1:t.generalGuestCount=0,a.generalGuests?t.generalGuestCount=a.generalGuests:t.generalGuestCount=0})},methods:{addParty:function(){var e=n.a.database(),t=this;if(t.name&&void 0!==t.name&&""!==t.name&&0!==t.name.length)if(t.jobsUrl.startsWith("https://")||t.jobsUrl.startsWith("http://"))if("pregame"===t.type?t.party_date.setHours(21):t.party_date.setHours(22),t.party_id)console.log("Updating party: "+t.party_id),0!==t.generalGuestCount?e.ref("events/"+t.party_id).update({name:t.name,type:t.type,generalGuests:parseInt(t.generalGuestCount),party_date:t.party_date.getTime(),jobsUrl:t.jobsUrl}):e.ref("events/"+t.party_id).update({name:t.name,type:t.type,maleGuests:parseInt(t.maleGuestCount),femaleGuests:parseInt(t.femaleGuestCount),party_date:t.party_date.getTime(),jobsUrl:t.jobsUrl}),this.$router.push({path:"/party/"+t.party_id});else{var a=e.ref().push().key;0!==t.generalGuestCount&&0===t.maleGuestCount&&0===t.femaleGuestCount?e.ref("events/"+a).set({name:t.name,type:t.type,generalGuests:parseInt(t.generalGuestCount),party_date:t.party_date.getTime(),jobsUrl:t.jobsUrl,closed:!1}):e.ref("events/"+a).set({name:t.name,type:t.type,maleGuests:parseInt(t.maleGuestCount),femaleGuests:parseInt(t.femaleGuestCount),party_date:t.party_date.getTime(),jobsUrl:t.jobsUrl,closed:!1}),this.$router.push({path:"/party/"+a})}else alert("You didn't start the url with http:// or https://");else t.missingName=!0},download:function(){var e=this;n.a.database().ref("events/"+e.party_id).once("value").then(function(t){var a=document.createElement("a"),s=new Blob([S()(t.val(),null,2)],{type:"application/json"});n.a.storage().ref().child(e.name.replace(" ","_")+"_data.json").put(s).then(function(e){console.log("Uploaded a blob or file!")}),a.href=URL.createObjectURL(s),a.download=e.name.replace(" ","_")+"_data.json",a.click(),alert("Will save a copy to the firebase storage when the party gets deleted.")})},remove:function(){var e=n.a.database(),t=this,a=!1;(confirm("Are you sure you want to delete this event? (WILL DOWNLOAD LIST BEFORE DELETION)")&&(a=!0),a)&&(e.ref("events/"+t.party_id).once("value").then(function(e){var a=document.createElement("a"),s=new Blob([S()(e.val(),null,2)],{type:"application/json"});n.a.storage().ref().child(t.name.replace(" ","_")+"_data.json").put(s).then(function(e){console.log("Uploaded a blob or file!")}),a.href=URL.createObjectURL(s),a.download=t.name.replace(" ","_")+"_data.json",a.click(),alert("Also saved a copy to firebase hosting.")}),e.ref("events/"+t.party_id).remove(),e.ref("bros/").once("value").then(function(a){for(var s in a.val())e.ref("bros/"+s+"/events/"+t.party_id).remove()}),t.$router.push({path:"/"}))}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[e.party_id?a("h1",{staticClass:"title has-text-centered"},[e._v("Edit "+e._s(e.name))]):a("h1",{staticClass:"title has-text-centered"},[e._v("Create a new Event")]),e._v(" "),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Name")]),e._v(" "),a("div",{staticClass:"control has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"input",class:{"input is-danger ":e.missingName},attrs:{type:"text",placeholder:"Party Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),e._v(" "),e.missingName?a("span",{staticClass:"icon is-small is-right"},[a("i",{staticClass:"fas fa-exclamation-triangle"})]):e._e(),e._v(" "),e.missingName?a("p",{staticClass:"help is-danger"},[e._v("Please enter a name.")]):e._e()]),e._v(" "),a("label",{staticClass:"label"},[e._v("Type of Event")]),e._v(" "),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.type=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"party"}},[e._v("Party")]),e._v(" "),a("option",{attrs:{value:"social"}},[e._v("Social")]),e._v(" "),a("option",{attrs:{value:"pregame"}},[e._v("Pregame")]),e._v(" "),a("option",{attrs:{value:"semi-formal"}},[e._v("Semi-Formal")]),e._v(" "),a("option",{attrs:{value:"nocial"}},[e._v("Nocial")]),e._v(" "),a("option",{attrs:{value:"other"}},[e._v("Other")])])]),e._v(" "),a("b-field",{attrs:{label:"Select Date"}},[a("b-datepicker",{attrs:{placeholder:"Type or select a date...",icon:"calendar-today"},model:{value:e.party_date,callback:function(t){e.party_date=t},expression:"party_date"}})],1),e._v(" "),a("label",{staticClass:"label"},[e._v("Number of Male Guests per Brother")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maleGuestCount,expression:"maleGuestCount"}],staticClass:"input",attrs:{type:"number",disabled:0!=e.generalGuestCount,placeholder:"Number"},domProps:{value:e.maleGuestCount},on:{input:function(t){t.target.composing||(e.maleGuestCount=t.target.value)}}})]),e._v(" "),a("label",{staticClass:"label"},[e._v("Number of Female Guests per Brother")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.femaleGuestCount,expression:"femaleGuestCount"}],staticClass:"input",attrs:{type:"Number",disabled:0!=e.generalGuestCount,placeholder:"Number"},domProps:{value:e.femaleGuestCount},on:{input:function(t){t.target.composing||(e.femaleGuestCount=t.target.value)}}})]),e._v(" "),a("label",{staticClass:"label"},[e._v("Number of General Guests per Brother")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.generalGuestCount,expression:"generalGuestCount"}],staticClass:"input",attrs:{type:"Number",placeholder:"Number"},domProps:{value:e.generalGuestCount},on:{input:function(t){t.target.composing||(e.generalGuestCount=t.target.value)}}})]),e._v(" "),a("p",[e._v("Use General guests and leave Males and Females at 0 for just a general guest count that disregards gender.")]),e._v(" "),a("p",[e._v("Use -1 for infinite.")]),e._v(" "),a("br"),e._v(" "),a("label",{staticClass:"label"},[e._v("Party Jobs URL")]),e._v(" "),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.jobsUrl,expression:"jobsUrl"}],staticClass:"input",attrs:{type:"text",placeholder:"Jobs URL"},domProps:{value:e.jobsUrl},on:{input:function(t){t.target.composing||(e.jobsUrl=t.target.value)}}})]),e._v(" "),e._m(0),e._v(" "),a("br"),e._v(" "),e.party_id?a("button",{staticClass:"button is-link",on:{click:e.addParty}},[e._v("Edit Event\n    ")]):a("button",{staticClass:"button is-link",on:{click:e.addParty}},[e._v("Add Party\n    ")]),e._v(" "),a("br"),a("br"),e._v(" "),e.party_id?a("button",{staticClass:"button is-info",on:{click:e.download}},[e._v("Download Event\n    ")]):e._e(),e._v(" "),a("br"),a("br"),e._v(" "),e.party_id?a("button",{staticClass:"button is-danger",on:{click:e.remove}},[e._v("Delete Event\n    ")]):e._e()],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Make sure "),t("b",[this._v("http://")]),this._v(" or "),t("b",[this._v("https://")]),this._v(" is at the beginning of the URL.")])}]},R=a("VU/8")(O,z,!1,null,null,null).exports,V=a("bOdI"),T=a.n(V),K={data:function(){return{userId:"",name:"",email:"",role:"",brothers:[]}},created:function(){var e=n.a.auth().currentUser,t=this,a=n.a.database();null!==e&&(t.userId=e.uid,t.name=e.displayName,t.email=e.email),a.ref("bros/").orderByChild("sortKey").on("value",function(e){var a=0;e.forEach(function(e){t.$set(t.brothers,a,{id:e.key,name:e.val().name,role:e.val().role,paid_bill:e.val().paid_bill,email:e.val().email,verified:e.val().verified}),a++})}),a.ref("bros/"+t.userId).once("value").then(function(e){e.val()&&e.val().role&&(t.role=e.val().role)})},methods:{update:function(e,t,a){t===this.userId&&alert("You just modified a value for your account, make sure to revert it before you exit if you didn't mean to!"),n.a.database().ref("bros/"+t).update(T()({},e,a))},remove:function(e,t){var a=n.a.database(),s=!1;confirm("Are you sure you want to delete "+t+"?")&&(s=!0),s&&a.ref("bros/"+e).remove()}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v("Manage Social Stuff")]),e._v(" "),a("router-link",{staticClass:"button is-danger",attrs:{to:"social/blacklist"}},[e._v("Manage Blacklist")]),e._v(" "),a("table",{staticClass:"table is-fullwidth is-striped"},[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Paid Bill")]),e._v(" "),a("th",[e._v("Role")]),e._v(" "),"admin"===e.role?a("th",[e._v("Verify Account")]):e._e(),e._v(" "),"admin"===e.role?a("th",[e._v("Delete User")]):e._e()])]),e._v(" "),a("tbody",e._l(e.brothers,function(t){return a("tr",[a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[a("b-switch",{on:{input:function(a){e.update("paid_bill",t.id,t.paid_bill)}},model:{value:t.paid_bill,callback:function(a){e.$set(t,"paid_bill",a)},expression:"bro.paid_bill"}},[e._v("\n          "+e._s(t.paid_bill)+"\n        ")])],1),e._v(" "),"admin"===e.role?a("td",[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"bro.role"}],on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(t,"role",a.target.multiple?s:s[0])},function(a){e.update("role",t.id,t.role)}]}},[a("option",{attrs:{value:"admin"}},[e._v("Admin")]),e._v(" "),a("option",{attrs:{value:"social"}},[e._v("Social")]),e._v(" "),a("option",{attrs:{value:"risk"}},[e._v("Risk Manager")]),e._v(" "),a("option",{attrs:{value:"normal"}},[e._v("Normal")])])])]):a("td",[e._v(e._s(t.role))]),e._v(" "),"admin"===e.role?a("td",[!0===t.verified?a("span",{staticClass:"tag is-medium"},[e._v("Verified")]):e._e(),e._v(" "),!1===t.verified?a("button",{staticClass:"button is-primary",on:{click:function(a){e.update("verified",t.id,!0)}}},[e._v("\n          Verify\n        ")]):e._e()]):e._e(),e._v(" "),"admin"===e.role?a("td",[a("button",{staticClass:"button is-danger",on:{click:function(a){e.remove(t.id,t.name)}}},[e._v("\n          Delete\n        ")])]):e._e()])}))])],1)},staticRenderFns:[]},q={data:function(){return{userId:"",name:"",email:"",input:"",role:"",blacklist:[]}},created:function(){var e=n.a.auth().currentUser,t=this,a=n.a.database();null!==e&&(t.userId=e.uid,t.name=e.displayName,t.email=e.email),a.ref("blacklist/").orderByChild("addedDate").on("value",function(e){var a=0;e.forEach(function(e){t.$set(t.blacklist,a,{id:e.key,name:e.val().name,added_by:e.val().addedByName,added_date:w()(e.val().addedDate).format("ddd, MMM Do YYYY")}),a++})}),a.ref("bros/"+t.userId).once("value").then(function(e){e.val()&&e.val().role&&(t.role=e.val().role)})},methods:{addToBlackList:function(e,t,a){this.input="";var s=n.a.database();if(e&&void 0!==e&&""!==e&&0!==e.length){var i=s.ref().push().key;s.ref("blacklist/"+i).set({name:e,addedByName:t,addedByUID:a,addedDate:(new Date).getTime()})}else alert("No name entered!")},remove:function(e,t,a){confirm("Are you sure you want to remove "+e+" from the blacklist?")&&(n.a.database().ref("blacklist/"+t).remove(),this.blacklist.splice(a,1))}}},J={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v("Manage Blacklist")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter name"},domProps:{value:e.input},on:{input:function(t){t.target.composing||(e.input=t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"addGuest"},[a("button",{staticClass:"button is-danger",attrs:{disabled:"risk"===e.role},on:{click:function(t){e.addToBlackList(e.input,e.name,e.userId)}}},[e._v("Add to Blacklst")])]),e._v(" "),a("table",{staticClass:"table is-fullwidth is-striped"},[a("thead",[a("tr",[a("th",[e._v("Name")]),e._v(" "),a("th",[e._v("Added By")]),e._v(" "),a("th",[e._v("Date")]),e._v(" "),"admin"===e.role?a("th",[e._v("Remove From Blacklist")]):e._e()])]),e._v(" "),a("tbody",e._l(e.blacklist,function(t,s){return a("tr",[a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.added_by))]),e._v(" "),a("td",[e._v(e._s(t.added_date))]),e._v(" "),"admin"===e.role?a("td",[a("button",{staticClass:"button is-primary",on:{click:function(a){e.remove(t.name,t.id,s)}}},[e._v("\n          Remove\n        ")])]):e._e()])}))])])},staticRenderFns:[]},W={data:function(){return{userId:"",name:"",email:"",social:!0,paid_bill:!0,input:"",blacklist:[],males:[],females:[],checkedIn:0,maleLimit:"",femaleLimit:"",generalLimit:"",malesAdded:0,femalesAdded:0,generalAdded:0}},created:function(){var e=n.a.database(),t=n.a.auth().currentUser,a=this;null!==t&&(a.userId=t.uid,a.name=t.displayName,a.email=t.email),e.ref("blacklist/").on("value",function(e){var t=0;e.forEach(function(e){a.$set(a.blacklist,t,e.val().name.toLowerCase()),t++})}),e.ref("bros/"+a.userId+"/list/males").orderByChild("sortKey").on("value",function(e){var t=0,s=0;e.forEach(function(e){e.val().addedByUID===a.userId&&s++,a.$set(a.males,t,{id:e.key,name:e.val().name}),t++}),a.malesAdded=s,a.generalAdded=a.malesAdded+a.femalesAdded}),e.ref("bros/"+a.userId+"/list/females").orderByChild("sortKey").on("value",function(e){var t=0,s=0;e.forEach(function(e){e.val().addedByUID===a.userId&&s++,a.$set(a.females,t,{id:e.key,name:e.val().name}),t++}),a.femalesAdded=s,a.generalAdded=a.malesAdded+a.femalesAdded}),e.ref("bros/"+a.userId).once("value").then(function(e){!e.val()||"admin"!==e.val().role&&"social"!==e.val().role||(a.social=!0),a.paid_bill=e.val()&&!0===e.val().paid_bill})},computed:{filteredMales:function(){var e=this;return this.males.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1})},filteredFemales:function(){var e=this;return this.females.filter(function(t){return t.name.toLowerCase().indexOf(e.input.toLowerCase())>-1})}},methods:{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},remove:function(e,t,a,s){var i=n.a.database();if(console.log("Removing guest: "+e.name),t){var r="bros/"+this.userId+"/list/males/";this.males.splice(a,1),i.ref(r+e.id).remove()}else{var o="bros/"+this.userId+"/list/females/";this.females.splice(a,1),i.ref(o+e.id).remove()}},addMale:function(e,t,a,s){this.input="";var i=this,r=e.split(","),o="bros/"+i.userId+"/list/males",l=n.a.database();r.every(function(e){if(e=e.replace(/[~!@#$%^&*()_|+\-=?;:",.<>\{\}\[\]\\\/]/gi,"").replace(/[0-9]/g,"").trim(),i.blacklist.includes(e.toLowerCase()))alert(e+" is on the blacklist! They will not be added to the guest list.");else if(i.males.some(function(t){return t.name.toLowerCase()===e.toLowerCase()}))console.log(e+" has already been added.");else if(e&&void 0!==e&&""!==e&&0!==e.length){console.log(i.generalAdded+" "+i.generalLimit);var n=l.ref().push().key,r=e.split(" "),d=r.splice(1).join("")+r[0];l.ref(o+"/"+n).set({name:e,checkedIn:t,addedByName:a,addedByUID:s,sortKey:d})}else console.log("Name was empty, didn't add");return!0})},addFemale:function(e,t,a,s){this.input="";var i=this,r=e.split(","),o=n.a.database(),l="bros/"+i.userId+"/list/females";r.every(function(e){if(e=e.replace(/[~!@#$%^&*()_|+\-=?;:",.<>\{\}\[\]\\\/]/gi,"").replace(/[0-9]/g,""),i.blacklist.includes(e.toLowerCase()))alert(e+" is on the blacklist! They will not be added to the guest list.");else if(i.females.some(function(t){return t.name.toLowerCase()===e.toLowerCase()}))console.log(e+" has already been added.");else if(e&&void 0!==e&&""!==e&&0!==e.length){var n=o.ref().push().key,r=e.split(" "),d=r.splice(1).join("")+r[0];o.ref(l+"/"+n).set({name:e,checkedIn:t,addedByName:a,addedByUID:s,sortKey:d})}else console.log("Name was empty, didn't add");return!0})}}},H={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"section"},[a("h1",{staticClass:"title has-text-centered"},[e._v("Your personal guest list")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[e.paid_bill?e._e():a("div",[a("div",{staticClass:"notification is-danger"},[e._v("\n          You have not paid your social bill! Please talk to social about this.\n        ")]),e._v(" "),a("br")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input,expression:"input"}],staticClass:"input",attrs:{type:"text",placeholder:"Enter guest name(s)",id:"searchbar"},domProps:{value:e.input},on:{input:function(t){t.target.composing||(e.input=t.target.value)}}}),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"addGuest"},[a("button",{staticClass:"button is-info",on:{click:function(t){e.addMale(e.input,-1,e.name,e.userId)}}},[e._v("Add Male(s)")])]),e._v(" "),a("div",{staticClass:"addGuest"},[a("button",{staticClass:"button is-danger",staticStyle:{"margin-left":"20px"},on:{click:function(t){e.addFemale(e.input,-1,e.name,e.userId)}}},[e._v("\n          Add Female(s)\n        ")])]),e._v(" "),a("br"),a("br"),a("br")]),e._v(" "),a("p",[e._v("There are "),a("strong",[e._v(e._s(e.females.length))]),e._v(" females and "),a("strong",[e._v(e._s(e.males.length))]),e._v("\n      males on your guest list. For you math majors that is "),a("strong",[e._v(e._s(e.females.length+e.males.length))]),e._v(" guests.")])]),e._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Males")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[e._m(0),e._v(" "),a("tbody",e._l(e.filteredMales,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.remove(t,!0,s,!1)}}},[e._v("Delete")])])])}))])]),e._v(" "),a("div",{staticClass:"column is-half"},[a("h4",{staticClass:"title has-text-centered is-4"},[e._v("Females")]),e._v(" "),a("table",{staticClass:"table is-fullwidth"},[e._m(1),e._v(" "),a("tbody",e._l(e.filteredFemales,function(t,s){return a("tr",{key:t.id},[a("th",[e._v(e._s(t.name))]),e._v(" "),a("th",[a("button",{staticClass:"button is-link",on:{click:function(a){e.remove(t,!1,s,!1)}}},[e._v("Delete")])])])}))])])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Name")]),this._v(" "),t("th",[this._v("Delete")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Name")]),this._v(" "),t("th",[this._v("Delete")])])])}]};var X=[{path:"/party/account",redirect:"/account"},{path:"/party/social",redirect:"/social"},{path:"/party/userlist",redirect:"/userlist"},{path:"/partyJobs/account",redirect:"/account"},{path:"/partyJobs/social",redirect:"/social"},{path:"/partyJobs/userlist",redirect:"/userlist"},{path:"/social/account",redirect:"/account"},{path:"/social/social",redirect:"/social"},{path:"/social/userlist",redirect:"/userlist"},{path:"/sign-in",name:"signIn",component:h},{path:"/sign-up",name:"signUp",component:g},{path:"",name:"parties",component:x,meta:{requiresAuth:!0}},{path:"/createParty",name:"createParty",component:R,meta:{requiresAuth:!0}},{path:"/account",name:"account",component:N,meta:{requiresAuth:!0}},{path:"/social",name:"social",component:a("VU/8")(K,Y,!1,null,null,null).exports,meta:{requiresAuth:!0,requiresSocial:!0}},{path:"/social/blacklist",name:"blacklist",component:a("VU/8")(q,J,!1,null,null,null).exports,meta:{requiresAuth:!0,requiresSocial:!0}},{path:"/party/:id",name:"party",component:E,meta:{requiresAuth:!0}},{path:"/partyJobs/:id",name:"partyJobs",component:M,meta:{requiresAuth:!0}},{path:"/userlist",name:"userlist",component:a("VU/8")(W,H,!1,function(e){a("lUuO")},"data-v-0305e263",null).exports,meta:{requiresAuth:!0}},{path:"/404",name:"404",component:y.default},{path:"*",redirect:"/404"}],Q=a("MMSg"),Z=a.n(Q);a("doPI");n.a.initializeApp({apiKey:"AIzaSyA3jEriGQpF0rvDsmiZ8z887S4GWsGCM8o",authDomain:"zm-parties.firebaseapp.com",databaseURL:"https://zm-parties.firebaseio.com",projectId:"zm-parties",storageBucket:"zm-parties.appspot.com",messagingSenderId:"1022544483863"}),s.a.use(u.a),s.a.use(Z.a);var ee=new u.a({routes:X,mode:"history"});ee.beforeEach(function(e,t,a){var s=n.a.database(),i=n.a.auth().currentUser,r=e.matched.some(function(e){return e.meta.requiresAuth}),o=e.matched.some(function(e){return e.meta.requiresSocial});r&&!i?a("/sign-in"):r&&i?s.ref("bros/"+i.uid).once("value").then(function(e){(!e.val()||"admin"!==e.val().role&&"social"!==e.val().role&&"risk"!==e.val().role)&&o?a(!1):a()}):a()}),n.a.auth().onAuthStateChanged(function(e){new s.a({el:"#app",store:m,router:ee,render:function(e){return e(c)}})})},No6h:function(e,t){},"beu/":function(e,t,a){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"section"},[t("h1",{staticClass:"title has-text-centered"},[this._v("404 Page Missing")]),this._v(" "),t("article",{staticClass:"notification is-danger"},[t("p",[this._v("This page displays when a route is accessed that doesn't exist.")])])])}]};t.a=s},dL6C:function(e,t){},doPI:function(e,t){},lUuO:function(e,t){},s7mS:function(e,t){},uslO:function(e,t,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(e){return a(n(e))}function n(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.3b08477de6e375e68e14.js.map